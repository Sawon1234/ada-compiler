<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>The Ada Program: main-binary_search.adb</title>
<!-- Automatically created by 'sgml2html'. -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<style type="text/css">
  .key         {font-weight:bold; color:#228B22;}
  .comment     {font-style:oblique; font-weight:bold; color:#BB1212;}
  .linenumber  {font-size:75%;    color:#888888;}
  .string      {color:#3333CC;}
  .char        {color:#3333CC;}
  .number      {color:#3333CC;}
  .predefined  {color:#3333CC;}
</style>
</head>
<body>
<h1>The Ada Program: main-binary_search.adb</h1>
<pre>
<span class="linenumber">  1</span> <span class="comment">--  main-binary_search.adb:  subunit to search for string in array</span>
<span class="linenumber">  2</span> 
<span class="linenumber">  3</span> <span class="key">separate</span> (Main)
<span class="linenumber">  4</span> 
<span class="linenumber">  5</span> <span class="comment">--  Find some "Location" such that "List[Location]=Value", if none,</span>
<span class="linenumber">  6</span> <span class="comment">--  set "Location" to 0.  We assume that 0 is not a legal index,</span>
<span class="linenumber">  7</span> <span class="comment">--  also we assume that "List" is sorted in non-decreasing order.</span>
<span class="linenumber">  8</span> 
<span class="linenumber">  9</span> <span class="comment">--  NB. Comparisions of mixed operands: "String" and "Bounded_String"</span>
<span class="linenumber"> 10</span> 
<span class="linenumber"> 11</span> <span class="key">procedure</span> Binary_Search (List     : <span class="key">in</span> Word_List;
<span class="linenumber"> 12</span>                          Value    : <span class="key">in</span> <span class="predefined">String</span>;
<span class="linenumber"> 13</span>                          Location : <span class="key">out</span> <span class="predefined">Natural</span>) <span class="key">is</span>
<span class="linenumber"> 14</span> 
<span class="linenumber"> 15</span>    <span class="key">use</span> <span class="key">type</span> String_25.Bounded_String;  <span class="comment">-- infix operators are used</span>
<span class="linenumber"> 16</span> 
<span class="linenumber"> 17</span>    Found       : <span class="predefined">Boolean</span> := <span class="predefined">False</span>;
<span class="linenumber"> 18</span>    First_Index : <span class="predefined">Natural</span> := List<span class="predefined">'First</span>;
<span class="linenumber"> 19</span>    Last_Index  : <span class="predefined">Natural</span> := List<span class="predefined">'Last</span>;
<span class="linenumber"> 20</span>    Midpoint    : <span class="predefined">Natural</span>;
<span class="linenumber"> 21</span> 
<span class="linenumber"> 22</span> <span class="key">begin</span>
<span class="linenumber"> 23</span> 
<span class="linenumber"> 24</span>    <span class="key">while</span> (First_Index &#60;= Last_Index) <span class="key">and</span> <span class="key">not</span> Found <span class="key">loop</span>
<span class="linenumber"> 25</span> 
<span class="linenumber"> 26</span>       Midpoint := (First_Index + Last_Index) / <span class="number">2</span>;
<span class="linenumber"> 27</span>       <span class="key">if</span> List (Midpoint) = Value <span class="key">then</span>
<span class="linenumber"> 28</span>          Found := <span class="predefined">True</span>;
<span class="linenumber"> 29</span>       <span class="key">elsif</span> Value &#60; List (Midpoint) <span class="key">then</span>
<span class="linenumber"> 30</span>          Last_Index := Midpoint - <span class="number">1</span>;
<span class="linenumber"> 31</span>       <span class="key">else</span>
<span class="linenumber"> 32</span>          First_Index := Midpoint + <span class="number">1</span>;
<span class="linenumber"> 33</span>       <span class="key">end</span> <span class="key">if</span>;
<span class="linenumber"> 34</span> 
<span class="linenumber"> 35</span>    <span class="key">end</span> <span class="key">loop</span>;
<span class="linenumber"> 36</span> 
<span class="linenumber"> 37</span>    <span class="key">if</span> Found <span class="key">then</span>
<span class="linenumber"> 38</span>       Location := Midpoint;
<span class="linenumber"> 39</span>    <span class="key">else</span>
<span class="linenumber"> 40</span>       Location := <span class="number">0</span>;
<span class="linenumber"> 41</span>    <span class="key">end</span> <span class="key">if</span>;
<span class="linenumber"> 42</span> 
<span class="linenumber"> 43</span> <span class="key">end</span> Binary_Search;
</pre>
</body>
</html>
